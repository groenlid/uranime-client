// Generated by EmberScript 0.0.7
var get$=Ember.get;Em.onLoad("Ember.Application",function(e){return e.initializer({name:"ember-auth.strategy.token",before:"ember-auth-load",initialize:function(e,t){return t.register("authStrategy:token",get$(get$(Em,"Auth"),"TokenAuthStrategy"),{singleton:!0}),t.inject("authStrategy:token","auth","auth:main")}}),e.initializer({name:"ember-auth.strategy.token-load",after:"ember-auth-load",initialize:function(e,t){return e.lookup("authStrategy:token")}})});var get$=Ember.get,set$=Ember.set;set$(get$(Em,"Auth"),"TokenAuthStrategy",get$(get$(Em,"Auth"),"AuthStrategy").extend({init:function(){return get$(this,"auth").reopen({authToken:get$(Em,"computed").alias("_strategy.authToken")})},authToken:null,serialize:function(e){if(!get$(get$(this,"auth"),"signedIn"))return e;switch(get$(get$(this,"auth"),"tokenLocation")){case"param":e.data||(e.data={}),"undefined"!=typeof FormData&&null!=FormData&&get$(e,"data")instanceof FormData?get$(e,"data").append(get$(get$(this,"auth"),"tokenKey"),get$(this,"authToken")):get$(e,"data")[get$(get$(this,"auth"),"tokenKey")]||(get$(e,"data")[get$(get$(this,"auth"),"tokenKey")]=get$(this,"authToken"));break;case"authHeader":e.headers||(e.headers={}),get$(e,"headers").Authorization||(get$(e,"headers").Authorization=""+get$(get$(this,"auth"),"tokenHeaderKey")+" "+get$(this,"authToken"));break;case"customHeader":e.headers||(e.headers={}),get$(e,"headers")[get$(get$(this,"auth"),"tokenHeaderKey")]||(get$(e,"headers")[get$(get$(this,"auth"),"tokenHeaderKey")]=get$(this,"authToken"))}return e},deserialize:function(e){set$(this,"authToken",e[get$(get$(this,"auth"),"tokenKey")]);if(get$(get$(this,"auth"),"tokenIdKey"))return set$(get$(get$(this,"auth"),"_session"),"userId",e[get$(get$(this,"auth"),"tokenIdKey")])}}));var get$=Ember.get;get$(Em,"Auth").reopen({tokenKey:null,tokenIdKey:null,tokenLocation:"param",tokenHeaderKey:null});